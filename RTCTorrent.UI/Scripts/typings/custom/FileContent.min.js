var RtcTorrent;(function(n){"use strict";var t=function(){function n(){this.fs=null}return n.prototype.writeFile=function(n,t,i){var r=this;n.getFile(t,{create:!0,exclusive:!1},function(n){n.createWriter(function(n){n.onwriteend=function(){console.log("onwriteend")},n.write(i),n.abort()},function(n){console.log("error",n)})},function(n){console.log("error",n)})},n.prototype.save=function(n,t,i,r){var u=this;n.root.getDirectory(t,{create:!0},function(n){console.log("getDirectory success"),u.writeFile(n,t+"/"+i,r)},function(n){console.log("error",n)})},n.prototype.quotaError=function(n){var t="";switch(n.code){case FileError.QUOTA_EXCEEDED_ERR:t="QUOTA_EXCEEDED_ERR";break;case FileError.NOT_FOUND_ERR:t="NOT_FOUND_ERR";break;case FileError.SECURITY_ERR:t="SECURITY_ERR";break;case FileError.INVALID_MODIFICATION_ERR:t="INVALID_MODIFICATION_ERR";break;case FileError.INVALID_STATE_ERR:t="INVALID_STATE_ERR";break;default:t="Unknown Error"}console.log("Error: "+t)},n.prototype.requestQuota=function(n,t,i){var r=this;window.webkitStorageInfo.requestQuota(window.PERSISTENT,n,function(n){window.requestFileSystem(window.PERSISTENT,n,function(n){t(n)},function(n){i(r.quotaError(n))})},function(n){i(n),console.log("Error",n)})},n.prototype.read=function(n,t){var f=this,u=n.size-1,i=new FileReader,r;i.onloadend=function(n){if(n.readyState==FileReader.prototype.DONE){var r=new Uint16Array(i.result),u=String.fromCharCode.apply(null,r);t(u)}},r=n.slice(0,u+1),i.readAsArrayBuffer(r)},n}();n.FileContent=t})(RtcTorrent||(RtcTorrent={}))