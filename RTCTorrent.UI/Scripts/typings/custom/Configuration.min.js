var RtcTorrent;(function(n){"use strict";var t=function(){function n(){this.webRTCSupport=!0;var n={iceServers:[{url:"stun:stun.l.google.com:19302"}]},t={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1},optional:[{RtpDataChannels:!0}]};navigator.mozGetUserMedia?(this.requestQuota=function(n,t,i,r){return window.mozStorageInfo.requestQuota(n,t,i,r)},this.blobBuilder=function(){return new window.mozBlobBuilder},this.requestFileSystem=function(n,t,i,r){return window.mozRequestFileSystem(n,t,i,r)},this.createPeerConnection=function(){return new window.mozRTCPeerConnection(n,t)},this.getUserMedia=navigator.mozGetUserMedia.bind(navigator),this.attachMediaStream=function(n,t){n.src(URL.createObjectURL(t))},this.reattachMediaStream=function(n,t){n.src(t())},this.setRemoteDescription=function(n,t,i,r,u){var n=n,r=r,t=t,i=i,f=function(){r.connectDataConnection("datachannel"+t,"datachannel"+i),r.onconnection=n.bind(this),console.log("setRemoteDescription successCallback")},e=function(){console.log("setRemoteDescription failureCallback")},o=JSON.parse(u.Message);r.setRemoteDescription(o,f,e)},this.addIceCandidate=function(n,t){var u=function(){console.log("addIceCandidate successCallback")},f=function(){console.log("addIceCandidate failureCallback")},i={sdpMLineIndex:JSON.parse(t.Message).label,candidate:JSON.parse(t.Message).candidate},r=i;n.addIceCandidate(r)}):navigator.webkitGetUserMedia?(this.requestQuota=function(n,t,i,r){return window.webkitStorageInfo.requestQuota(n,t,i,r)},this.blobBuilder=function(){return new window.webkitBlobBuilder},this.requestFileSystem=function(n,t,i,r){return window.webkitRequestFileSystem(n,t,i,r)},this.createPeerConnection=function(i){var r=new window.webkitRTCPeerConnection(n,t);return r.onconnection=i.bind(this),r},this.getUserMedia=navigator.webkitGetUserMedia.bind(navigator),this.attachMediaStream=function(n,t){n.src(webkitURL.createObjectURL(t))},this.reattachMediaStream=function(n,t){n.src(t())},this.setRemoteDescription=function(n,t,i,r,u){var r=r,t=t,i=i,f=function(){console.log("setRemoteDescription successCallback")},e=function(){console.log("setRemoteDescription failureCallback")},o=JSON.parse(u.Message);r.setRemoteDescription(new RTCSessionDescription(o),f,e)},this.addIceCandidate=function(n,t){var u=function(){console.log("addIceCandidate successCallback")},f=function(){console.log("addIceCandidate failureCallback")},i={sdpMLineIndex:JSON.parse(t.Message).label,candidate:JSON.parse(t.Message).candidate},r=new RTCIceCandidate(i);n.addIceCandidate(r)}):this.webRTCSupport=!1}return n}();n.Configuration=t})(RtcTorrent||(RtcTorrent={}))